function Main(){"use strict";PIXI.DisplayObjectContainer.call(this),PIXI.EventTarget.call(this)}function LoaderApi(){"use strict";PIXI.EventTarget.call(this),this.loader=null,this.name="dennis loader API"}function animate(){requestAnimFrame(animate);try{renderer.render(stage)}catch(t){}}function Bar(t,e){"use strict";PIXI.Graphics.call(this),this.theWidth=t||500,this.myColor=e||16777215,this.angleOffset=19,this.redraw(t)}function Questionbar(t){"use strict";PIXI.DisplayObjectContainer.call(this),PIXI.EventTarget.call(this),this.label=t||"Test tekst",this.label=this.label.toUpperCase(),this.logo=new PIXI.Sprite(new PIXI.Texture.fromImage(ASSETS.questionBarLogo)),this.logo.x=0,this.logo.y=0,this.logo.alpha=0,this.addChild(this.logo),this.text=new PIXI.Text(this.label,{fill:"black",font:"16px alright_sansultra_italic"}),this.text.x=0,this.text.y=8,this.text.alpha=0,this.bar=new Bar(this.text.width+50),this.addChild(this.bar),this.bar.x=-this.bar.width,this.addChild(this.text),this.endTextPos=25}function WinnerComponent(t){"use strict";PIXI.DisplayObjectContainer.call(this),PIXI.EventTarget.call(this),this.loaderApi=t,this.imageHolder=new PIXI.DisplayObjectContainer;var e=new PixiBox(81,81,1551573);this.imageHolder.addChild(e),this.addChild(this.imageHolder),this.logoHolder=new PIXI.DisplayObjectContainer,this.logo=new PIXI.Sprite(new PIXI.Texture.fromImage(ASSETS.questionBarLogo)),this.logo.x=55,this.logo.y=1,this.blueBar=new Bar(20,1551573),this.blueBar.x=50,this.logoHolder.addChild(this.blueBar),this.logoHolder.addChild(this.logo),this.addChildAt(this.logoHolder,0),this.logoHolder.x=10,this.logoHolder.y=-1,this.winnerBar=new Bar(170,1603),this.winnerBar.x=56,this.winnerBar.y=27,this.addChildAt(this.winnerBar,0),this.winnerNameBar=new Bar(100),this.winnerNameBar.x=56,this.winnerNameBar.y=53,this.addChildAt(this.winnerNameBar,0),this.fastTxt=new PIXI.Text("HURTIGSTE SVAR",{fill:"#e3da02",font:"14px alright_sansultra_italic"}),this.fastTxt.x=90,this.fastTxt.y=34,this.addChild(this.fastTxt),this.winnerTxt=new PIXI.Text("test",{fill:"#000000",font:"16px alright_sansultra_italic"}),this.winnerTxt.x=90,this.winnerTxt.y=62,this.addChild(this.winnerTxt),this.imageHolder.alpha=0,this.logoHolder.alpha=0,this.winnerTxt.alpha=0,this.fastTxt.alpha=0,this.winnerNameBar.alpha=0,this.winnerBar.alpha=0,this.imageSpriteYpos=3,this.__imageLoaded=this.imageLoaded.bind(this)}function BoxRoundCorners(t,e,i,o){PIXI.DisplayObjectContainer.call(this),void 0==i&&(i=40),void 0==o&&(o=25),this.myWidth=t.width+i,this.myHeight=t.height+o,this.myColor=e||110825,this.background=new PIXI.Graphics,this.background.beginFill(this.myColor,1),this.background.drawRoundedRect(0,0,this.myWidth,this.myHeight,3),this.background.pivot.x=.5*this.background.width,this.background.pivot.y=.5*this.background.height,this.addChild(this.background);var a=new PIXI.Sprite(t);a.x=-Math.round(.5*this.myWidth)+.5*i,a.y=-Math.round(.5*this.myHeight)+.5*o,this.addChild(a)}function PixiBox(t,e,i,o){PIXI.Graphics.call(this),this._w=t||50,this._h=e||50,this._c=i,void 0==this._c&&(this._c=13369344),this._a=o||1,this.redraw(this._w,this._h,this._c,this._a)}function TextBtn(t){"use strict";PIXI.DisplayObjectContainer.call(this),PIXI.EventTarget.call(this),this.interactive=!0,this.label=t||"test",this.text=new PIXI.Text(this.label,{fill:"black",font:"bold 25px Arial"}),this.text.x=0,this.text.y=0;var e=new PixiBox(this.text.width,this.text.height);this.addChild(e),this.addChild(this.text)}Main.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),Main.prototype.constructor=Main,Main.prototype.init=function(){stage.interactive=!0,renderer.resize(1024,576),this.assetIsLoaded=!1;var t=ASSETS.toArray(CONFIG.images);this.loadApi=new LoaderApi,this.__assetsLoaded=this.assetsLoaded.bind(this),this.loadApi.on(LoaderApi.COMPLETE,this.__assetsLoaded),this.loadApi.load(t),this.setupTestBtns()},Main.prototype.assetsLoaded=function(){this.assetIsLoaded=!0,this.loadApi.off(LoaderApi.COMPLETE,this.__assetsLoaded);var t=new PIXI.Texture.fromImage(ASSETS.logo),e=new PIXI.Sprite(t);e.x=35,stage.addChild(e),this.elementYpos=40;var i=new Bar(800,13369344);i.x=200,i.y=this.elementYpos,stage.addChild(i);var o="Where did Center Michael Jordan play college basketball?",a=new Questionbar(o);a.x=200,a.y=this.elementYpos,stage.addChild(a),this.questionBar=a,a.mask=i;var s=new WinnerComponent(this.loadApi);stage.addChild(s),s.x=30,s.y=100,this.winnerComponent=s},Main.prototype.showQuestion=function(t){console.log("showQuestion = "),this.questionBar.show(t)},Main.prototype.hideQuestion=function(){this.questionBar.hide()},Main.prototype.hideWinner=function(){this.winnerComponent.hideWinner()},Main.prototype.showWinner=function(t,e){this.winnerComponent.showWinner(t,e)},Main.prototype.setupTestBtns=function(){this.__hideClick=this.hideClick.bind(this),this.__showClick=this.showClick.bind(this),this.__showWinnerClick=this.showWinnerClick.bind(this),this.__hideWinnerClick=this.hideWinnerClick.bind(this);var t=new TextBtn("Show question");t.interactive=!0,t.x=20,t.y=500,stage.addChild(t),t.click=this.__showClick;var e=new TextBtn("Hide question");e.x=20,e.y=530,stage.addChild(e),e.click=this.__hideClick;var i=new TextBtn("show Winner");i.interactive=!0,i.x=300,i.y=500,stage.addChild(i),i.click=this.__showWinnerClick;var o=new TextBtn("Hide Winner");o.interactive=!0,o.x=300,o.y=530,stage.addChild(o),o.click=this.__hideWinnerClick},Main.prototype.showClick=function(){var t="Where did Michael Jordan go to college";this.questionBar.show(t)},Main.prototype.hideClick=function(){this.questionBar.hide()},Main.prototype.hideWinnerClick=function(){this.winnerComponent.hideWinner()},Main.prototype.showWinnerClick=function(){var t="images/randomPerson.jpg";this.winnerComponent.showWinner(t,"Dennis Hallund Christoffersen")};var CONFIG={basePath:"",imgPath:"images/",init:function(){},images:{questionBarLogo:"questionBarLogo.png",logo:"logo.png",videoStillFrame:"videoStillFrame.png"}},ASSETS={toArray:function(t){this.arr=[];for(var e in t){var i=t[e];if("video"===e){this.video={};var o=t.video,a="";void 0!==t.video.localVideoPath&&(a=t.video.localVideoPath);for(var s in o)"localVideoPath"!=s&&(this.video[s]=o[s])}"string"==typeof i&&(this[e]=CONFIG.basePath+CONFIG.imgPath+i,this.arr.push(this[e]))}return this.arr}};angular.module("screenModule",[]).controller("screenController",["$scope","$http",function(t,e){var i=this;i.main=new Main,i.main.init(),i.main.setupTestBtns(),window.setInterval(function(){e.get("http://localhost:3000/onair/get_datastring").success(function(t){var e=t.Root.item[0];a(e)})},3e3);var o=null,a=function(t){{var e=t.question[0],a=(t.winnername[0],t.avatar[0],t.action[0]);t.result[0]}if(a&&!o)switch(o=!0,a){case"QUIZSTART":console.log("QUIZSTART"),i.main.showQuestion(e);break;case"QUIZEND":console.log("QUIZEND"),i.main.hideQuestion();break;case"RATINGEND":console.log("RATINGEND");break;case"GAMEEND":console.log("GAMEEND")}!a&&o&&(console.log("NO ACTION"),o=!1)}}]),LoaderApi.COMPLETE="complete",LoaderApi.PROGRESS="progress",LoaderApi.prototype.load=function(t){this.assetAmountToLoad=t.length,this.loader=new PIXI.AssetLoader(t);var e=this;this.loader.addEventListener("onComplete",function(t){e.onAssetLoaded(t)}),this.loader.addEventListener("onProgress",function(t){e.onProgress(t)}),this.loader.load()},LoaderApi.prototype.onProgress=function(t){var e=(t.type,t.content),i=(t.loader,this.assetAmountToLoad-e.loadCount),o=i/this.assetAmountToLoad;this.emit({type:LoaderApi.PROGRESS,data:o})},LoaderApi.prototype.onAssetLoaded=function(t){t.content,t.type;this.emit(LoaderApi.COMPLETE),console.log("onAssetLoaded  ")},window.console||(window.console={}),window.console.log||(window.console.log=function(){});var stageWidth=1024,stageHeight=576,stage=new PIXI.Stage(6750105);stage.clickId="stage",stage.interactive=!1;var rendererOptions={antialiasing:!0,transparent:!0,resolution:1},renderer=new PIXI.CanvasRenderer(stageWidth,stageHeight,rendererOptions),id=document.getElementById("canvasContainer");id.appendChild(renderer.view),requestAnimFrame(animate),Bar.prototype=Object.create(PIXI.Graphics.prototype),Bar.prototype.constructor=Bar,Bar.prototype.redraw=function(t){this.theWidth=t,this.clear(),this.beginFill(this.myColor),this.moveTo(0,0),this.lineTo(this.angleOffset,1),this.lineTo(this.theWidth+this.angleOffset,1),this.lineTo(this.theWidth,27),this.lineTo(0,27),this.lineTo(this.angleOffset,1),this.endFill()},Questionbar.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),Questionbar.prototype.constructor=Questionbar,Questionbar.prototype.updateLabel=function(t){this.label=t,this.text.setText(t)},Questionbar.prototype.show=function(t){void 0!=t&&(this.label=t.toUpperCase(),this.text.setText(this.label),this.bar.redraw(this.text.width+50)),TweenLite.to(this.bar,.6,{x:0,delay:0,ease:Strong.easeOut}),TweenLite.to(this.text,.6,{x:this.endTextPos,delay:0,ease:Strong.easeOut}),TweenLite.to(this.text,.4,{alpha:1,delay:.2,ease:Strong.easeOut}),this.logo.x=this.bar.width-58;var e=.35;TweenLite.to(this.logo,.5,{x:this.bar.width-21,delay:e,ease:Strong.easeOut}),TweenLite.to(this.logo,.5,{alpha:1,delay:e,ease:Strong.easeOut})},Questionbar.prototype.hide=function(){TweenLite.to(this.logo,.4,{x:this.bar.width-80,delay:0,ease:Strong.easeOut}),TweenLite.to(this.logo,.4,{alpha:0,delay:0,ease:Strong.easeOut});var t=.2;TweenLite.to(this.bar,.6,{x:-this.bar.width,delay:t,ease:Strong.easeOut}),TweenLite.to(this.text,.6,{x:-50,alpha:0,delay:t,ease:Strong.easeOut})},WinnerComponent.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),WinnerComponent.prototype.constructor=WinnerComponent,WinnerComponent.prototype.imageLoaded=function(){console.log("sdfsdf"),this.loaderApi.off(LoaderApi.COMPLETE,this.__imageLoaded);var t=new PIXI.Texture.fromImage(this.imageUrl);this.imageSprite=new PIXI.Sprite(t),this.imageSprite.x=this.imageSpriteYpos,this.imageSprite.y=this.imageSpriteYpos,this.imageHolder.addChild(this.imageSprite),this.imageHolder.x=-90,TweenLite.to(this.imageHolder,.4,{alpha:1,x:0,delay:0,ease:Strong.easeOut}),this.logoHolder.x=-90,TweenLite.to(this.logoHolder,.4,{alpha:1,x:10,delay:.2,ease:Strong.easeOut}),this.winnerBar.scale.x=0,TweenLite.to(this.winnerBar.scale,.3,{x:1,delay:.4,ease:Strong.easeOut}),TweenLite.to(this.winnerBar,.2,{alpha:1,delay:.4,ease:Strong.easeOut}),this.fastTxt.x=70,TweenLite.to(this.fastTxt,.3,{x:90,alpha:1,delay:.5,ease:Strong.easeOut}),this.winnerNameBar.scale.x=0,TweenLite.to(this.winnerNameBar.scale,.4,{x:1,delay:.6,ease:Strong.easeOut}),TweenLite.to(this.winnerNameBar,.4,{alpha:1,delay:.6,ease:Strong.easeOut}),TweenLite.to(this.winnerTxt,.4,{alpha:1,delay:.65,ease:Strong.easeOut})},WinnerComponent.prototype.showWinner=function(t,e){this.winnerTxt.setText(e.toUpperCase()),this.winnerNameBar.redraw(this.winnerTxt.width+50),this.imageUrl=t;var i=[t];this.loaderApi.on(LoaderApi.COMPLETE,this.__imageLoaded),this.loaderApi.load(i)},WinnerComponent.prototype.hideWinner=function(){TweenLite.to(this.imageHolder,.6,{alpha:1,x:-150,delay:.4,ease:Expo.easeOut}),TweenLite.to(this.logoHolder,.5,{alpha:0,x:-80,delay:.25,ease:Expo.easeOut}),TweenLite.to(this.winnerBar.scale,.3,{x:0,delay:.18,ease:Expo.easeOut}),TweenLite.to(this.winnerBar,.3,{alpha:0,delay:.18,ease:Expo.easeOut}),TweenLite.to(this.fastTxt,.3,{x:80,alpha:0,delay:.1,ease:Expo.easeOut}),TweenLite.to(this.winnerNameBar.scale,.4,{x:0,delay:0,ease:Expo.easeOut}),TweenLite.to(this.winnerNameBar,.4,{alpha:0,delay:0,ease:Expo.easeOut}),TweenLite.to(this.winnerTxt,.4,{alpha:0,delay:0,ease:Expo.easeOut})},BoxRoundCorners.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),BoxRoundCorners.prototype.constructor=BoxRoundCorners,PixiBox.prototype=Object.create(PIXI.Graphics.prototype),PixiBox.prototype.constructor=PixiBox,PixiBox.prototype.redraw=function(t,e,i,o){this.clear();var a=i||this._c,s=o||this._a;this.beginFill(a,s),this.drawRect(0,0,t,e),this.endFill()},TextBtn.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),TextBtn.prototype.constructor=TextBtn;